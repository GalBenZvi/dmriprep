

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation &mdash; dmriprep 0.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/banner.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="dMRIPrep" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> dmriprep
          

          
          </a>

          
            
            
              <div class="version">
                0.5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#container-technologies-docker-and-singularity">Container technologies: Docker and Singularity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#docker-recommended-for-pc-laptop-and-commercial-cloud">Docker (recommended for PC/laptop and commercial Cloud)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#singularity-recommended-for-hpc">Singularity (recommended for HPC)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manually-prepared-environment-python-3-5">Manually Prepared Environment (Python 3.5+)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#external-dependencies">External Dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Library API (application program interface)</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">What’s new?</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Development road-map</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">dmriprep</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<section id="id1">
<h1>Installation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>There are two ways of getting <em>dMRIPrep</em> installed:</p>
<ul class="simple">
<li><p>within a <a class="reference internal" href="#manually-prepared-environment-python-3-5">Manually Prepared Environment (Python 3.5+)</a>, also known as
<em>bare-metal installation</em>; or</p></li>
<li><p>using container technologies (RECOMMENDED), such as
<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/docker.html">Docker</a> or
<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/singularity.html">Singularity</a>.</p></li>
</ul>
<p>Once you have your <em>bare-metal</em> environment set-up (first option above),
the next step is executing the <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> command-line.
The <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> command-line options are documented in the <a class="reference internal" href="usage.html#usage"><span class="std std-ref">Usage</span></a>
section.
The <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> command-line adheres to the <a class="reference external" href="usage.html#execution-and-the-bids-format">BIDS-Apps recommendations
for the user interface</a>.
Therefore, the command-line has the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ dmriprep &lt;input_bids_path&gt; &lt;derivatives_path&gt; &lt;analysis_level&gt; &lt;named_options&gt;
</pre></div>
</div>
<p>On the other hand, if you chose a container infrastructure, then
the command-line will be composed of a preamble to configure the
container execution followed by the <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> command-line options
as if you were running it on a <em>bare-metal</em> installation.
The command-line structure above is then modified as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ &lt;container_command_and_options&gt; &lt;container_image&gt; \
     &lt;input_bids_path&gt; &lt;derivatives_path&gt; &lt;analysis_level&gt; &lt;dmriprep_named_options&gt;
</pre></div>
</div>
<p>Therefore, once specified, the container options and the image to be run
from the command line is the same as for the <em>bare-metal</em> installation but dropping
the <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> executable name.</p>
<section id="container-technologies-docker-and-singularity">
<h2>Container technologies: Docker and Singularity<a class="headerlink" href="#container-technologies-docker-and-singularity" title="Permalink to this headline">¶</a></h2>
<p>Container technologies are operating-system-level virtualization methods to run Linux systems
using the host’s Linux kernel.
This is a lightweight approach to virtualization, as compares to virtual machines.</p>
<section id="docker-recommended-for-pc-laptop-and-commercial-cloud">
<span id="installation-docker"></span><h3>Docker (recommended for PC/laptop and commercial Cloud)<a class="headerlink" href="#docker-recommended-for-pc-laptop-and-commercial-cloud" title="Permalink to this headline">¶</a></h3>
<p>Probably, the most popular framework to execute containers is Docker.
If you are to run <em>dMRIPrep</em> on your PC/laptop, this is the RECOMMENDED way of execution.
Please make sure you follow the <a class="reference external" href="https://docs.docker.com/install/">Docker installation</a> instructions.
You can check your <a class="reference external" href="https://www.docker.com/products/container-runtime">Docker Engine</a> installation running their <code class="docutils literal notranslate"><span class="pre">hello-world</span></code> image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker run --rm hello-world
</pre></div>
</div>
<p>If you have a functional installation, then you should obtain the following output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 1. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 1. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 1. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</pre></div>
</div>
<p>After checking your Docker Engine is capable of running Docker images, then go ahead
and <a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/docker.html">check out our documentation</a>
to run the <em>dMRIPrep</em> image.
The list of Docker images ready to use is found at the <a class="reference external" href="https://hub.docker.com/r/nipreps/dmriprep/tags">Docker Hub</a>,
under the <code class="docutils literal notranslate"><span class="pre">nipreps/dmriprep</span></code> identifier.</p>
</section>
<section id="singularity-recommended-for-hpc">
<h3>Singularity (recommended for HPC)<a class="headerlink" href="#singularity-recommended-for-hpc" title="Permalink to this headline">¶</a></h3>
<p>For security reasons, many <abbr title="High-Performance Computing">HPCs</abbr> (e.g., <a class="reference external" href="https://www.tacc.utexas.edu/">TACC</a>)
do not allow Docker containers, but do allow <a class="reference external" href="https://github.com/singularityware/singularity">Singularity</a> containers.
The improved security for multi-tenant systems comes at the price of some limitations
and extra steps necessary for execution.
Please make sure you <a class="reference external" href="singularity.html">follow our tips and tricks to run dMRIPrep’s Singularity images</a>.</p>
</section>
</section>
<section id="manually-prepared-environment-python-3-5">
<h2>Manually Prepared Environment (Python 3.5+)<a class="headerlink" href="#manually-prepared-environment-python-3-5" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is not recommended! Please checkout container alternatives
such as <a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/docker.html">Docker</a>, or
<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/singularity.html">Singularity</a>.</p>
</div>
<p>Make sure all of <em>dMRIPrep</em>’s <a class="reference internal" href="#external-dependencies">External Dependencies</a> are installed.
These tools must be installed and their binaries available in the
system’s <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>.
A relatively interpretable description of how your environment can be set-up
is found in the <a class="reference external" href="https://github.com/nipreps/dmriprep/blob/master/Dockerfile">Dockerfile</a>.
As an additional installation setting, FreeSurfer requires a license file (see <a class="reference internal" href="usage.html#fs-license"><span class="std std-ref">The FreeSurfer license</span></a>).</p>
<p>On a functional Python 3.7 (or above) environment with <code class="docutils literal notranslate"><span class="pre">pip</span></code> installed,
<em>dMRIPrep</em> can be installed using the habitual command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m pip install dmriprep
</pre></div>
</div>
<p>Check your installation with the <code class="docutils literal notranslate"><span class="pre">--version</span></code> argument</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ dmriprep --version
</pre></div>
</div>
<section id="external-dependencies">
<h3>External Dependencies<a class="headerlink" href="#external-dependencies" title="Permalink to this headline">¶</a></h3>
<p><em>dMRIPrep</em> is written using Python 3.7 (or above), and is based on
<a class="reference external" href="http://nipype.readthedocs.io/en/latest/">Nipype</a>.</p>
<p><em>dMRIPrep</em> requires some other neuroimaging software tools that are
not handled by the Python’s packaging system (Pypi) used to deploy
the <code class="docutils literal notranslate"><span class="pre">dmriprep</span></code> package:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a> (version 5.0.9)</p></li>
<li><p><a class="reference external" href="https://stnava.github.io/ANTs/">ANTs</a> (version 2.3.3 - NeuroDocker build)</p></li>
<li><p><a class="reference external" href="https://afni.nimh.nih.gov/">AFNI</a> (version Debian-16.2.07)</p></li>
<li><p><a class="reference external" href="https://surfer.nmr.mgh.harvard.edu/">FreeSurfer</a> (version 6.0.1)</p></li>
<li><p><a class="reference external" href="https://github.com/bids-standard/bids-validator">bids-validator</a> (version 1.4.0)</p></li>
</ul>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="dMRIPrep" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Copyright 2019, The dMRIPrep developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../0.2.1/installation.html">0.2.1</a></dd>
            <dd><a href="../0.2.2/installation.html">0.2.2</a></dd>
            <dd><a href="../0.3.0/installation.html">0.3.0</a></dd>
            <dd><a href="../0.4.0/installation.html">0.4.0</a></dd>
            <dd><a href="../0.5.0/installation.html">0.5.0</a></dd>
            <dd><a href="../0.5.0rc0/installation.html">0.5.0rc0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../docs_copyright-notice/installation.html">docs/copyright-notice</a></dd>
            <dd><a href="installation.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>